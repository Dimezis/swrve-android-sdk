apply plugin: 'com.android.library'
apply plugin: 'maven'

android {
    compileSdkVersion 22
    buildToolsVersion "22.0.1"

//    publishNonDefault true // Needed to instruct the SDK build of a particular flavor
//    defaultPublishConfig "vanilla"

    defaultConfig {
        minSdkVersion 10
        targetSdkVersion 22
    }

    publishNonDefault true
    productFlavors {
        vanilla {}
        google {}
    }

    lintOptions {
        abortOnError true
    }

//    productFlavors {
//        vanilla {
//            versionCode 2
//        }
//
//        google {
//            versionCode 2
//        }
//    }

//    sourceSets {
//        main {
//            manifest.srcFile 'src/main/AndroidManifest.xml'
//            java.srcDirs = ['src/main/java']
//            resources.srcDirs = ['src/main/java']
////                aidl.srcDirs = ['src/main/java']
////                renderscript.srcDirs = ['src/main/java']
//            res.srcDirs = ['res']
//            assets.srcDirs = ['assets']
//        }
//
//        google {
//            manifest.srcFile 'src/main/AndroidManifest.xml'
////                manifest.srcFile 'AndroidManifest.xml'
//            res.srcDirs = ['res']
//            java.srcDirs = ['src/google/java', 'src/main/java']
////                resources.srcDirs = ['src/google/java', 'src/main/java']
////            aidl.srcDirs = ['src/google/java', 'src/main/java']
////            renderscript.srcDirs = ['src/google/java', 'src/main/java']
//        }
//
//        vanilla {
//            manifest.srcFile 'src/main/AndroidManifest.xml'
//            java.srcDirs = ['src/vanilla/java', 'src/main/java']
////                resources.srcDirs = ['src/vanilla/java', 'src/main/java']
////            aidl.srcDirs = ['src/vanilla/java', 'src/main/java']
////            renderscript.srcDirs = ['src/vanilla/java', 'src/main/java']
//            res.srcDirs = ['res']
//            assets.srcDirs = ['assets']
//        }
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: '..//../repo/releases')
            // Location of where the AAR project files are uploaded
            pom.groupId = 'com.swrve.sdk.android'
            pom.artifactId = 'swrve'
            pom.version = '4.0.0'
        }
    }
}

dependencies {
    compile 'com.google.code.gson:gson:2.2.+'
    compile 'com.android.support:support-v4:22.1.+'
    compile 'com.android.support:appcompat-v7:22.1.+'
    compile 'com.google.android.gms:play-services:6.+'
}